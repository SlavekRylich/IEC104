2024-03-04 18:00:31,756 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:02:15,579 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:03:53,017 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:05:47,846 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:06:24,439 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:06:42,503 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:06:50,438 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:14:57,961 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:15:40,596 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:16:03,329 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:17:10,103 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:18:23,963 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:18:23,964 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:26:24,492 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:26:24,494 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:26:39,368 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:26:43,124 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=480 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:27:47,936 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:27:49,785 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=536 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:29:06,991 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:29:06,998 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=480 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:29:45,175 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:29:45,183 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=348 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:30:24,851 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:30:24,857 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=536 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:31:59,482 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:31:59,490 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=524 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:32:12,407 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:32:12,418 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=492 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:34:32,209 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:34:32,216 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=348 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:35:13,545 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:35:13,551 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=496 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:36:02,995 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:36:03,002 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=524 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:38:52,771 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:38:52,779 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=536 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:39:50,594 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:39:50,601 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=524 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:40:09,286 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:40:09,293 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=496 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:41:58,380 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:41:58,389 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=348 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:43:15,039 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:43:15,046 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=496 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:44:14,774 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:44:14,782 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=348 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:46:27,054 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:46:27,060 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:46:27,065 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=544 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:46:40,567 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:46:40,572 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:46:40,577 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=480 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:49:43,680 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:49:43,685 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:49:43,691 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=348 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:49:45,501 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:592> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 597, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-04 18:51:03,267 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:51:03,268 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:51:24,158 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:51:33,928 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:51:42,571 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:51:46,534 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:52:17,551 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:52:17,552 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:52:17,555 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:592> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 597, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-04 18:52:19,809 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:52:19,811 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:52:19,813 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:592> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 597, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-04 18:52:41,545 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=904>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:52:41,593 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=944>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:52:47,022 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:52:47,024 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:52:47,027 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=1248 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 148, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 18:52:47,026 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:592> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 597, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-04 18:53:43,604 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:53:43,606 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:55:08,698 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:55:10,110 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:55:34,342 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:55:35,531 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:56:38,946 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:56:40,364 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:58:01,000 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:58:03,551 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:59:01,941 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:59:03,086 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:59:34,929 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:59:36,103 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:59:47,369 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:59:47,371 - DEBUG - Using proactor: IocpProactor
2024-03-04 18:59:47,374 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:592> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 597, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-04 18:59:47,376 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=1020 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 151, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 19:02:21,223 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:02:21,225 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:02:21,228 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=632 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 151, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 19:02:21,237 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<IEC104Client.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:592>>
2024-03-04 19:03:48,522 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:03:48,524 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:03:48,527 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=884 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 151, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 19:03:48,544 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<IEC104Client.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:595>>
2024-03-04 19:04:11,882 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:04:25,996 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:04:34,565 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:04:34,567 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:04:34,571 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=628 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 151, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 19:04:59,275 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<IEC104Client.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:595>>
2024-03-04 19:05:20,876 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:05:20,878 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:05:25,286 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:05:25,292 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:05:25,297 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=460 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 151, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 19:06:04,746 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:06:04,751 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:06:04,756 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=520 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 151, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-04 19:08:59,364 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:08:59,369 - DEBUG - Using proactor: IocpProactor
2024-03-04 19:08:59,374 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=440 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 151, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-05 15:45:41,859 - DEBUG - Using proactor: IocpProactor
2024-03-05 15:46:55,780 - DEBUG - Using proactor: IocpProactor
2024-03-05 15:47:40,844 - DEBUG - Using proactor: IocpProactor
2024-03-05 15:48:11,188 - DEBUG - Using proactor: IocpProactor
2024-03-05 15:48:32,074 - DEBUG - Using proactor: IocpProactor
2024-03-05 15:49:06,121 - DEBUG - Using proactor: IocpProactor
2024-03-05 15:49:22,917 - DEBUG - Using proactor: IocpProactor
2024-03-05 15:50:41,626 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:00:03,526 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:00:45,551 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:00:59,431 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:00:59,432 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:00:59,437 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=860 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 160, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-05 16:01:27,195 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<IEC104Client.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:595>>
2024-03-05 16:02:21,007 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:02:21,009 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:02:23,208 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=808 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 160, in handle_client
    with self.lock:
TypeError: 'Lock' object does not support the context manager protocol
2024-03-05 16:02:40,953 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:02:47,683 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<IEC104Client.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:595>>
2024-03-05 16:02:49,140 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:02:49,141 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:05:31,497 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<IEC104Client.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:595>>
2024-03-05 16:06:22,661 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:14:26,361 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:14:34,150 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:14:34,152 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:15:08,240 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:15:12,932 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<IEC104Client.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:595>>
2024-03-05 16:15:15,000 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:15:15,001 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:17:50,385 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:17:58,891 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<IEC104Client.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:595>>
2024-03-05 16:18:01,057 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:18:01,059 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:18:49,947 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<IEC104Client.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:595>>
2024-03-05 16:18:52,164 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:18:52,166 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:20:07,131 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:20:18,404 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<IEC104Client.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:595>>
2024-03-05 16:20:20,444 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:20:20,445 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:21:41,803 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:21:52,128 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<IEC104Client.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:595>>
2024-03-05 16:21:57,648 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:21:57,650 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:23:13,043 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:23:16,393 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<IEC104Client.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:595>>
2024-03-05 16:23:17,839 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:23:17,841 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:35:06,384 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:35:09,165 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<IEC104Client.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:595>>
2024-03-05 16:35:10,224 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:35:10,225 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:35:41,084 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<IEC104Client.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:595>>
2024-03-05 16:35:47,988 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:38:27,451 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:38:42,455 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:38:42,461 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:45:15,490 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:45:39,893 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=484 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 16:47:23,540 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:47:55,137 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:48:25,842 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:48:58,941 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:49:41,215 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:50:50,177 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:50:52,615 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:605> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 610, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-05 16:51:21,316 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:51:29,536 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:51:31,962 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:606> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 611, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-05 16:52:01,548 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:52:02,115 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:605> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 610, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-05 16:52:24,312 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:134> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-05 16:52:26,567 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:52:33,018 - DEBUG - Using proactor: IocpProactor
2024-03-05 16:52:33,592 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:605> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 610, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-05 17:00:09,552 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:134> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-05 17:00:19,056 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:00:27,337 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:00:27,895 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:605> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 610, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-05 17:01:14,023 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:01:25,275 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:134> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-05 17:01:29,717 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:01:34,917 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:01:43,551 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:605> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 610, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-05 17:02:26,324 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:02:29,854 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:04:15,304 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:04:19,089 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:605> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 610, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-05 17:04:20,384 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:05:27,536 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:05:31,998 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:605> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 610, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-05 17:05:33,160 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:06:23,540 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:06:27,583 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:605> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 610, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-05 17:06:28,576 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:25:31,604 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:605> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 610, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-05 17:25:33,143 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:25:34,604 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=976 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 17:25:41,241 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:605> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 610, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-05 17:25:48,851 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:25:53,688 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:605> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 610, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-05 17:26:10,058 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:26:18,693 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:26:28,489 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:26:31,244 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:605> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 610, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-05 17:27:11,029 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:27:13,786 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:608> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 613, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-05 17:27:36,696 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:27:43,198 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:27:43,755 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<IEC104Client.periodic_event_check() done, defined at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:608> exception=AttributeError("'IEC104Client' object has no attribute 'clients'")>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py", line 613, in periodic_event_check
    for client in self.clients:
                  ^^^^^^^^^^^^
AttributeError: 'IEC104Client' object has no attribute 'clients'
2024-03-05 17:28:26,514 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:29:07,215 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:35:15,996 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:134> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-05 17:54:40,131 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:55:06,466 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:55:51,902 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:55:57,017 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:57:23,531 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:57:23,538 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=312 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 17:58:00,698 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:58:00,706 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=508 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 17:58:51,098 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:58:51,106 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=312 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 17:59:23,379 - DEBUG - Using proactor: IocpProactor
2024-03-05 17:59:23,389 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=508 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 18:01:22,901 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:01:22,908 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=516 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 18:28:51,659 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:28:51,667 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=500 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 18:29:19,842 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:29:19,850 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=484 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 18:32:35,904 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:32:35,913 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=500 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 18:33:34,454 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:33:34,462 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=312 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 18:34:05,103 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:34:05,111 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=500 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 18:35:09,484 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:35:09,493 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=516 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 18:35:22,136 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:35:22,143 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=488 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 18:35:48,314 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:36:27,803 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:38:04,382 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:38:04,390 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=528 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 18:38:28,672 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:38:28,680 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=508 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 18:40:18,658 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:40:18,666 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=524 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 167, in handle_client
    self.active_session = self.queue.Select_active_session(session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 148, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-05 18:40:42,272 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:41:07,653 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:43:01,741 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:134> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-05 18:43:03,942 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:43:15,986 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:57:26,347 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:59:36,437 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:134> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-05 18:59:46,858 - DEBUG - Using proactor: IocpProactor
2024-03-05 18:59:59,322 - DEBUG - Using proactor: IocpProactor
2024-03-05 19:00:17,828 - DEBUG - Using proactor: IocpProactor
2024-03-05 20:18:50,894 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:134> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-06 14:49:03,939 - DEBUG - Using proactor: IocpProactor
2024-03-06 15:00:17,004 - DEBUG - Using proactor: IocpProactor
2024-03-06 15:05:21,379 - DEBUG - Using proactor: IocpProactor
2024-03-06 15:05:47,229 - DEBUG - Using proactor: IocpProactor
2024-03-06 15:06:13,067 - DEBUG - Using proactor: IocpProactor
2024-03-06 15:07:31,374 - DEBUG - Using proactor: IocpProactor
2024-03-06 15:08:20,371 - DEBUG - Using proactor: IocpProactor
2024-03-06 15:12:56,564 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:03:15,078 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:05:54,898 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:08:35,102 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:09:42,402 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:14:40,530 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:16:14,414 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:20:44,895 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:21:31,722 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:21:49,893 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:23:50,430 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:35:35,187 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:35:50,082 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:35:50,193 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=548 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 170, in handle_client
    await self.queue.handle_apdu(request)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 57, in handle_apdu
    await self.session.update_state_machine(apdu)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'update_state_machine'. Did you mean: 'update_state_machine_client'?
2024-03-06 16:35:58,019 - WARNING - socket.send() raised exception.
2024-03-06 16:35:59,127 - WARNING - socket.send() raised exception.
2024-03-06 16:36:00,243 - WARNING - socket.send() raised exception.
2024-03-06 16:36:01,365 - WARNING - socket.send() raised exception.
2024-03-06 16:36:02,404 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-2' coro=<IEC104Client.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\client_async.py:469> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-06 16:40:01,060 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:40:34,732 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:132> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-06 16:40:42,155 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:40:47,694 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:40:47,804 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=516 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 170, in handle_client
    await self.queue.handle_apdu(request)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 57, in handle_apdu
    await self.session.update_state_machine(apdu)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'update_state_machine'. Did you mean: 'update_state_machine_client'?
2024-03-06 16:40:55,620 - WARNING - socket.send() raised exception.
2024-03-06 16:40:56,737 - WARNING - socket.send() raised exception.
2024-03-06 16:40:57,858 - WARNING - socket.send() raised exception.
2024-03-06 16:40:58,978 - WARNING - socket.send() raised exception.
2024-03-06 16:41:00,100 - WARNING - socket.send() raised exception.
2024-03-06 16:41:01,219 - WARNING - socket.send() raised exception.
2024-03-06 16:41:02,325 - WARNING - socket.send() raised exception.
2024-03-06 16:41:41,227 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:41:51,779 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:41:51,895 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=528 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 170, in handle_client
    await self.queue.handle_apdu(request)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 57, in handle_apdu
    await self.session.update_state_machine(apdu)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'update_state_machine'. Did you mean: 'update_state_machine_client'?
2024-03-06 16:41:59,718 - WARNING - socket.send() raised exception.
2024-03-06 16:42:00,827 - WARNING - socket.send() raised exception.
2024-03-06 16:42:01,951 - WARNING - socket.send() raised exception.
2024-03-06 16:42:03,064 - WARNING - socket.send() raised exception.
2024-03-06 16:42:04,173 - WARNING - socket.send() raised exception.
2024-03-06 16:42:05,288 - WARNING - socket.send() raised exception.
2024-03-06 16:42:06,405 - WARNING - socket.send() raised exception.
2024-03-06 16:44:21,856 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:44:25,211 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:44:25,316 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=520 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 170, in handle_client
    await self.queue.handle_apdu(request)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 57, in handle_apdu
    await self.session.update_state_machine(apdu)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'update_state_machine'. Did you mean: 'update_state_machine_client'?
2024-03-06 16:44:33,139 - WARNING - socket.send() raised exception.
2024-03-06 16:44:34,250 - WARNING - socket.send() raised exception.
2024-03-06 16:44:35,360 - WARNING - socket.send() raised exception.
2024-03-06 16:44:36,480 - WARNING - socket.send() raised exception.
2024-03-06 16:44:37,605 - WARNING - socket.send() raised exception.
2024-03-06 16:44:38,720 - WARNING - socket.send() raised exception.
2024-03-06 16:44:39,830 - WARNING - socket.send() raised exception.
2024-03-06 16:44:54,345 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:44:54,352 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=524 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 165, in handle_client
    self.active_session = self.queue.Select_active_session(new_session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 159, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 103, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-06 16:45:20,313 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:45:20,320 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=492 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 165, in handle_client
    self.active_session = self.queue.Select_active_session(new_session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 159, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 103, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-06 16:46:02,244 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:46:10,189 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:46:10,324 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=528 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 170, in handle_client
    await self.queue.handle_apdu(request)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 57, in handle_apdu
    await self.session.update_state_machine(apdu)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'update_state_machine'. Did you mean: 'update_state_machine_client'?
2024-03-06 16:46:18,160 - WARNING - socket.send() raised exception.
2024-03-06 16:46:19,280 - WARNING - socket.send() raised exception.
2024-03-06 16:47:29,943 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:47:29,950 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=328 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 165, in handle_client
    self.active_session = self.queue.Select_active_session(new_session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 159, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 103, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-06 16:56:37,815 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:56:48,780 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:57:55,347 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:57:55,354 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=548 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 165, in handle_client
    self.active_session = self.queue.Select_active_session(new_session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 159, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 103, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-06 16:58:23,787 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:58:29,425 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:59:10,289 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:59:10,296 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=432 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 165, in handle_client
    self.active_session = self.queue.Select_active_session(new_session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 159, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 103, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-06 16:59:45,401 - DEBUG - Using proactor: IocpProactor
2024-03-06 16:59:45,408 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=180 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 165, in handle_client
    self.active_session = self.queue.Select_active_session(new_session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 159, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 103, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-06 17:00:17,748 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:00:17,755 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=428 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 165, in handle_client
    self.active_session = self.queue.Select_active_session(new_session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 159, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 103, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-06 17:01:20,249 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:01:20,256 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=344 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 165, in handle_client
    self.active_session = self.queue.Select_active_session(new_session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 159, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 103, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-06 17:01:48,730 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:01:48,737 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=428 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 165, in handle_client
    self.active_session = self.queue.Select_active_session(new_session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 159, in Select_active_session
    if item[2].get_connection_state() == 'Connected' and \
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 103, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-06 17:06:43,200 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:06:43,208 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=488 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 165, in handle_client
    self.active_session = self.queue.Select_active_session(new_session)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 159, in Select_active_session
    for item in self.sessions_tuple:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 103, in get_connection_state
    return self.connection_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-06 17:07:31,426 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:132> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-06 17:09:41,352 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:09:48,102 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:11:26,506 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:132> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-06 17:11:27,822 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:11:33,681 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:13:28,459 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:13:35,436 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:17:40,931 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:17:46,066 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:19:01,001 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:19:28,510 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:23:42,834 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:132> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-06 17:23:44,925 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:23:51,452 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:24:45,214 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:24:50,981 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:42:34,908 - DEBUG - Using proactor: IocpProactor
2024-03-06 17:42:34,916 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=516 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 170, in handle_client
    await self.queue.handle_apdu(request)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 58, in handle_apdu
    await self.session.update_state_machine(apdu)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'update_state_machine'. Did you mean: 'update_state_machine_client'?
2024-03-06 21:10:04,765 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:132> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-06 21:10:08,383 - DEBUG - Using proactor: IocpProactor
2024-03-06 21:11:29,155 - DEBUG - Using proactor: IocpProactor
2024-03-06 21:11:55,531 - DEBUG - Using proactor: IocpProactor
2024-03-06 21:12:38,648 - DEBUG - Using proactor: IocpProactor
2024-03-06 21:13:07,718 - DEBUG - Using proactor: IocpProactor
2024-03-06 21:13:16,561 - DEBUG - Using proactor: IocpProactor
2024-03-06 21:13:16,564 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=548 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 164, in handle_client
    await self.queue.handle_apdu(request)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 141, in handle_apdu
    await self.session.update_state_machine_server(apdu)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 317, in update_state_machine_server
    await self.send_frame(new_frame)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 222, in send_frame
    self.writer.write(frame.serialize())
                      ^^^^^^^^^^^^^^^
AttributeError: 'coroutine' object has no attribute 'serialize'
2024-03-06 21:48:55,710 - DEBUG - Using proactor: IocpProactor
2024-03-06 21:48:58,485 - DEBUG - Using proactor: IocpProactor
2024-03-06 21:55:48,229 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-06 21:55:50,510 - DEBUG - Using proactor: IocpProactor
2024-03-06 21:55:53,668 - DEBUG - Using proactor: IocpProactor
2024-03-06 21:56:09,858 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-06 21:58:37,034 - DEBUG - Using proactor: IocpProactor
2024-03-06 21:58:39,238 - DEBUG - Using proactor: IocpProactor
2024-03-06 21:58:39,242 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=520 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 164, in handle_client
    await self.queue.handle_apdu(request)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 141, in handle_apdu
    await self.session.update_state_machine_server(apdu)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 332, in update_state_machine_server
    if self.get_transmission_state() == 'RUNNING':
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 118, in get_transmission_state
    return self.transmission_state.get_state()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_state'
2024-03-06 22:07:38,422 - DEBUG - Using proactor: IocpProactor
2024-03-06 22:07:41,449 - DEBUG - Using proactor: IocpProactor
2024-03-06 22:07:57,111 - DEBUG - Using proactor: IocpProactor
2024-03-06 22:08:02,906 - DEBUG - Using proactor: IocpProactor
2024-03-06 22:08:05,781 - DEBUG - Using proactor: IocpProactor
2024-03-06 22:08:11,870 - DEBUG - Using proactor: IocpProactor
2024-03-06 22:09:46,535 - DEBUG - Using proactor: IocpProactor
2024-03-07 16:52:41,663 - DEBUG - Using proactor: IocpProactor
2024-03-07 16:52:46,881 - DEBUG - Using proactor: IocpProactor
2024-03-07 16:53:31,130 - DEBUG - Using proactor: IocpProactor
2024-03-07 16:55:12,745 - DEBUG - Using proactor: IocpProactor
2024-03-07 16:58:29,243 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:00:49,147 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:01:44,594 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:02:57,758 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:03:47,876 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:04:16,357 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:04:22,287 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:05:02,518 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:06:11,157 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-07 17:06:42,771 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:06:53,156 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:07:53,749 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:53:30,283 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-07 17:53:31,791 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:54:03,060 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:54:25,681 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:57:04,164 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-07 17:58:32,216 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:58:42,583 - DEBUG - Using proactor: IocpProactor
2024-03-07 17:59:16,856 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-07 18:04:24,003 - DEBUG - Using proactor: IocpProactor
2024-03-07 18:04:27,386 - DEBUG - Using proactor: IocpProactor
2024-03-07 18:08:20,117 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-07 18:08:22,644 - DEBUG - Using proactor: IocpProactor
2024-03-07 18:08:24,841 - DEBUG - Using proactor: IocpProactor
2024-03-07 18:50:40,497 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-07 18:50:43,847 - DEBUG - Using proactor: IocpProactor
2024-03-07 18:50:50,185 - DEBUG - Using proactor: IocpProactor
2024-03-07 18:51:33,103 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-07 18:55:43,609 - DEBUG - Using proactor: IocpProactor
2024-03-07 18:55:46,371 - DEBUG - Using proactor: IocpProactor
2024-03-07 18:59:29,195 - DEBUG - Using proactor: IocpProactor
2024-03-07 18:59:43,232 - DEBUG - Using proactor: IocpProactor
2024-03-07 18:59:50,661 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-07 19:04:24,489 - DEBUG - Using proactor: IocpProactor
2024-03-07 19:04:27,008 - DEBUG - Using proactor: IocpProactor
2024-03-07 19:12:21,659 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-07 19:12:23,304 - DEBUG - Using proactor: IocpProactor
2024-03-07 19:12:26,030 - DEBUG - Using proactor: IocpProactor
2024-03-07 19:14:09,572 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-07 19:14:14,303 - DEBUG - Using proactor: IocpProactor
2024-03-07 19:14:27,110 - DEBUG - Using proactor: IocpProactor
2024-03-07 19:15:05,675 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-07 19:15:07,177 - DEBUG - Using proactor: IocpProactor
2024-03-07 19:15:28,939 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:03:41,469 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:03:53,147 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:08:47,083 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:08:47,094 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=452 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 165, in handle_client
    await self.queue.handle_apdu(request)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 164, in handle_apdu
    await self.session.update_state_machine_server(apdu)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 324, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 225, in send_frame
    await self.writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-09 09:09:37,085 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:11:06,346 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:11:40,082 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:25:14,711 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:33:39,699 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-09 09:34:51,086 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:34:58,001 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:36:10,971 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-09 09:36:18,983 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:36:26,603 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:37:19,474 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:37:25,614 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-09 09:37:33,762 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:37:43,951 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:38:23,069 - DEBUG - Using proactor: IocpProactor
2024-03-09 09:38:55,896 - DEBUG - Using proactor: IocpProactor
2024-03-09 10:29:58,261 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-2' coro=<ServerIEC104.periodic_event_check() done, defined at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:175> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 219, in <module>
    try:
        ^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1971, in _run_once
    handle._run()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 180, in periodic_event_check
    if self.check_alive_clients():
       ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 170, in check_alive_clients
    for queue in self.queues:
  File "c:\Users\slary\.vscode\extensions\ms-python.debugpy-2024.2.0-win32-x64\bundled\libs\debugpy\_vendored\pydevd\_pydevd_bundle\pydevd_frame.py", line 1226, in trace_dispatch
    self.do_wait_suspend(thread, back, event, arg)
  File "c:\Users\slary\.vscode\extensions\ms-python.debugpy-2024.2.0-win32-x64\bundled\libs\debugpy\_vendored\pydevd\_pydevd_bundle\pydevd_frame.py", line 165, in do_wait_suspend
    self._args[0].do_wait_suspend(*args, **kwargs)
  File "c:\Users\slary\.vscode\extensions\ms-python.debugpy-2024.2.0-win32-x64\bundled\libs\debugpy\_vendored\pydevd\pydevd.py", line 2070, in do_wait_suspend
    keep_suspended = self._do_wait_suspend(thread, frame, event, arg, suspend_type, from_this_thread, frames_tracker)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\slary\.vscode\extensions\ms-python.debugpy-2024.2.0-win32-x64\bundled\libs\debugpy\_vendored\pydevd\pydevd.py", line 2106, in _do_wait_suspend
    time.sleep(0.01)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
2024-03-09 10:30:03,145 - DEBUG - Using proactor: IocpProactor
2024-03-09 10:30:35,011 - DEBUG - Using proactor: IocpProactor
2024-03-09 10:30:46,208 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=1060 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 165, in handle_client
    await self.queue.handle_apdu(request)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 85, in handle_apdu
    if isinstance(self.session, Session):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: isinstance() arg 2 must be a type, a tuple of types, or a union
2024-03-09 10:36:51,088 - DEBUG - Using proactor: IocpProactor
2024-03-09 10:37:02,921 - DEBUG - Using proactor: IocpProactor
2024-03-09 10:37:08,604 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=940 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 165, in handle_client
    await self.queue.handle_apdu(request)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 85, in handle_apdu
    if isinstance(self.session, Session):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: isinstance() arg 2 must be a type, a tuple of types, or a union
2024-03-09 10:42:18,815 - DEBUG - Using proactor: IocpProactor
2024-03-09 10:42:29,886 - DEBUG - Using proactor: IocpProactor
2024-03-09 10:42:32,584 - DEBUG - Using proactor: IocpProactor
2024-03-09 10:55:35,842 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-09 10:56:03,537 - DEBUG - Using proactor: IocpProactor
2024-03-09 10:56:06,416 - DEBUG - Using proactor: IocpProactor
2024-03-09 10:59:35,842 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-09 10:59:54,738 - DEBUG - Using proactor: IocpProactor
2024-03-09 11:00:00,161 - DEBUG - Using proactor: IocpProactor
2024-03-09 11:00:08,606 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=904 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 165, in handle_client
    await self.queue.handle_apdu(request)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 86, in handle_apdu
    if isinstance(self.session, Session):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: isinstance() arg 2 must be a type, a tuple of types, or a union
2024-03-09 11:00:28,028 - DEBUG - Using proactor: IocpProactor
2024-03-09 11:00:30,169 - DEBUG - Using proactor: IocpProactor
2024-03-09 11:01:40,540 - DEBUG - Using proactor: IocpProactor
2024-03-09 11:01:42,967 - DEBUG - Using proactor: IocpProactor
2024-03-09 11:08:33,649 - DEBUG - Using proactor: IocpProactor
2024-03-09 11:08:39,469 - DEBUG - Using proactor: IocpProactor
2024-03-09 11:08:50,200 - DEBUG - Using proactor: IocpProactor
2024-03-09 11:08:52,118 - DEBUG - Using proactor: IocpProactor
2024-03-09 11:58:47,996 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-09 11:58:51,222 - DEBUG - Using proactor: IocpProactor
2024-03-09 11:58:54,840 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:26:37,934 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-09 12:26:39,687 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:26:42,215 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:27:09,868 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-09 12:31:56,963 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:32:00,703 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:34:45,362 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-09 12:34:49,586 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:34:53,414 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:35:28,725 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<ServerIEC104.start() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:137> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-09 12:35:31,060 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:35:34,677 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:36:33,111 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:36:35,689 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:42:01,933 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:42:07,584 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:47:57,246 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:48:00,777 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:57:02,675 - DEBUG - Using proactor: IocpProactor
2024-03-09 12:57:10,756 - DEBUG - Using proactor: IocpProactor
2024-03-09 13:02:48,143 - DEBUG - Using proactor: IocpProactor
2024-03-09 13:02:52,573 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:03:12,177 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:03:29,743 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:04:59,870 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:05:44,610 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:06:23,752 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:07:48,595 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:07:48,596 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:08:15,171 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:09:02,096 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:09:50,224 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:09:50,225 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:11:22,060 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:11:22,061 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:12:17,173 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:12:17,174 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:12:28,471 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:186>>
2024-03-09 15:13:07,300 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:13:07,301 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:13:14,686 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:186>>
2024-03-09 15:13:42,400 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:14:04,335 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:14:04,336 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:14:06,190 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:186>>
2024-03-09 15:14:51,502 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:14:51,503 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:14:56,902 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:186>>
2024-03-09 15:22:29,867 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:22:29,867 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:22:36,875 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 15:23:35,026 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:23:35,027 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:23:36,403 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 15:34:51,771 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:34:51,772 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:35:00,220 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 15:35:55,840 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:35:55,841 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:35:56,988 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 15:48:50,858 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:48:50,859 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:48:56,546 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:49:07,044 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 15:49:42,717 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:49:45,377 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:49:45,378 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:49:48,453 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:49:48,455 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=540 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 15:49:52,085 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 15:50:18,612 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:50:18,614 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:50:20,440 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:50:20,443 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=556 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 15:50:25,024 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 15:59:37,081 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:59:37,082 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:59:39,830 - DEBUG - Using proactor: IocpProactor
2024-03-09 15:59:39,833 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=540 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 15:59:47,065 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 16:02:17,259 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:02:17,260 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:02:20,158 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:02:20,160 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=544 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:02:29,926 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 16:02:46,664 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:02:46,665 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:02:53,163 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:02:56,850 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=552 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:03:04,219 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:03:08,031 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=556 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:03:18,579 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:03:18,586 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=552 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:03:52,808 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:03:52,816 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=564 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:04:33,974 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:04:33,982 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=560 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:05:06,961 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 16:05:09,017 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:05:09,018 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:05:11,380 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:05:11,382 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=520 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:05:15,741 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 16:06:14,091 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:06:14,092 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:06:16,231 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:06:16,233 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=528 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:06:21,061 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 16:14:02,751 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:14:02,752 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:14:05,676 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:14:05,679 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=516 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:14:14,168 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 16:15:48,989 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:15:48,991 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:15:51,300 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:15:51,303 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=520 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:16:05,560 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:16:05,563 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=476 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:16:09,113 - WARNING - socket.send() raised exception.
2024-03-09 16:16:10,129 - WARNING - socket.send() raised exception.
2024-03-09 16:16:12,492 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 16:17:33,933 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:17:33,936 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:17:49,292 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:17:54,202 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=968 read=<_OverlappedFuture finished result=6>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:18:11,365 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:18:11,367 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:18:13,720 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:18:43,086 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=936 read=<_OverlappedFuture finished result=6>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:19:27,854 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:19:27,860 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:19:28,906 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:19:51,617 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=980 read=<_OverlappedFuture finished result=6>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:20:14,149 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:20:14,155 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:20:17,730 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:20:43,866 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=684 read=<_OverlappedFuture finished result=6>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session,self.queue = self.add_new_session( reader, writer)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:21:39,784 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:21:39,787 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:21:42,526 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:22:02,014 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=964 read=<_OverlappedFuture finished result=6>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 163, in handle_client
    new_session, self.queue = self.add_new_session(reader, writer)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 116, in add_new_session
    new_queue = QueueManager(client_address, client_port)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: QueueManager.__init__() takes 2 positional arguments but 3 were given
2024-03-09 16:23:15,578 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:23:15,583 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:23:17,028 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:23:35,064 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:23:35,068 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:23:35,711 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:23:43,004 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:23:43,009 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:23:48,086 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:23:55,550 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=648 read=<_OverlappedFuture finished result=6>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 168, in handle_client
    print(f"Spojen navzno: s {self.active_session.ip(), self.active_session.port()},\
                                 ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'str' object is not callable
2024-03-09 16:24:51,939 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:24:51,943 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:24:55,022 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 16:25:12,843 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:25:12,847 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:25:14,651 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:25:23,876 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=840 read=<_OverlappedFuture finished result=6>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 168, in handle_client
    print(f"Spojen navzno: s {self.active_session.ip(), self.active_session.port()},\
                                 ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'str' object is not callable
2024-03-09 16:26:04,565 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:26:04,567 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:26:06,356 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:28:03,811 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 16:28:06,082 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:28:06,083 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:28:08,441 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:28:24,675 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:28:24,678 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:28:30,619 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:183>>
2024-03-09 16:28:37,141 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:28:37,145 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:28:38,970 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:29:29,393 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=812 read=<_OverlappedFuture finished result=0>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 173, in handle_client
    await self.queue.handle_apdu(request)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 97, in handle_apdu
    if self._session.transmission_state() == 'STOPPED':
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'str' object is not callable
2024-03-09 16:31:40,936 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:31:40,939 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:31:42,645 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:31:46,489 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=988 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 173, in handle_client
    await self.queue.handle_apdu(request)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 99, in handle_apdu
    if isinstance(apdu, Frame.UFormat):
                        ^^^^^^^^^^^^^
AttributeError: type object 'Frame' has no attribute 'UFormat'
2024-03-09 16:33:05,733 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:33:05,737 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:33:07,961 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:33:22,257 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=916 read=<_OverlappedFuture finished result=6>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 173, in handle_client
    await self.queue.handle_apdu(request)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 99, in handle_apdu
    if isinstance(apdu, Frame.UFormat):
                        ^^^^^^^^^^^^^
AttributeError: type object 'Frame' has no attribute 'UFormat'
2024-03-09 16:34:48,752 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:34:48,755 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:34:50,793 - DEBUG - Using proactor: IocpProactor
2024-03-09 16:34:59,535 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=1016 read=<_OverlappedFuture finished result=6>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py", line 173, in handle_client
    await self.queue.handle_apdu(request)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\QueueManager.py", line 180, in handle_apdu
    await self._session.update_state_machine_server(apdu)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 433, in update_state_machine_server
    print(f"{self.connection_state()}")
             ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'str' object is not callable
2024-03-11 20:00:02,014 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:00:02,018 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:00:22,697 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:00:55,008 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:01:08,521 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:02:42,348 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:03:05,856 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:03:05,857 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:03:09,137 - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-2' coro=<ServerIEC104.periodic_event_check() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.3-state_machine.py:185>>
2024-03-11 20:03:25,576 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:03:34,587 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:03:48,348 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<Session.send_frame() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py:278> exception=AttributeError("'int' object has no attribute 'serialize'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 282, in send_frame
    self._writer.write(frame.serialize())
                       ^^^^^^^^^^^^^^^
AttributeError: 'int' object has no attribute 'serialize'
2024-03-11 20:03:48,352 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-10' coro=<Session.update_state_machine_server() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py:354> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1971, in _run_once
    handle._run()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 465, in update_state_machine_server
    print(f"{actual_transmission_state}")
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
2024-03-11 20:03:48,368 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<main() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.4-state_machine.py:259> wait_for=<_GatheringFuture pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-11 20:06:00,045 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:06:02,061 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:06:07,351 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<Session.send_frame() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py:278> exception=AttributeError("'int' object has no attribute 'serialize'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 282, in send_frame
    self._writer.write(frame.serialize())
                       ^^^^^^^^^^^^^^^
AttributeError: 'int' object has no attribute 'serialize'
2024-03-11 20:06:07,355 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-10' coro=<Session.update_state_machine_server() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py:354> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1971, in _run_once
    handle._run()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 356, in update_state_machine_server
    print(f"Starting async update_state_machine_server")
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
2024-03-11 20:06:07,360 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<main() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.4-state_machine.py:259> wait_for=<_GatheringFuture pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-11 20:12:00,383 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:12:03,327 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:14:25,096 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<Session.send_frame() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py:278> exception=AttributeError("'int' object has no attribute 'serialize'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 282, in send_frame
    self._writer.write(frame.serialize())
                       ^^^^^^^^^^^^^^^
AttributeError: 'int' object has no attribute 'serialize'
2024-03-11 20:14:25,116 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-10' coro=<Session.update_state_machine_server() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py:354> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1971, in _run_once
    handle._run()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 356, in update_state_machine_server
    print(f"Starting async update_state_machine_server")
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
2024-03-11 20:14:25,120 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<main() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.4-state_machine.py:259> wait_for=<_GatheringFuture pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-11 20:14:27,260 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:14:41,441 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:15:13,729 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:17:26,191 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<Session.send_frame() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py:278> exception=AttributeError("'int' object has no attribute 'serialize'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 282, in send_frame
    self._writer.write(frame.serialize())
                       ^^^^^^^^^^^^^^^
AttributeError: 'int' object has no attribute 'serialize'
2024-03-11 20:17:26,206 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-10' coro=<Session.update_state_machine_server() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py:354> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1971, in _run_once
    handle._run()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 356, in update_state_machine_server
    print(f"Starting async update_state_machine_server")
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
2024-03-11 20:17:27,224 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<main() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\server_async_v2.4-state_machine.py:259> wait_for=<_GatheringFuture pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-11 20:17:33,314 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:17:39,902 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:19:22,284 - DEBUG - Using proactor: IocpProactor
2024-03-11 20:21:22,999 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-15' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py:92> exception=AttributeError("'int' object has no attribute 'serialize'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in run
    await self.task_send_frame
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 282, in send_frame
    self._writer.write(frame.serialize())
                       ^^^^^^^^^^^^^^^
AttributeError: 'int' object has no attribute 'serialize'
2024-03-11 20:21:23,003 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-9' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py:92> exception=AttributeError("'int' object has no attribute 'serialize'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 105, in run
    await self.task_send_frame
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v2.0\Session.py", line 282, in send_frame
    self._writer.write(frame.serialize())
                       ^^^^^^^^^^^^^^^
AttributeError: 'int' object has no attribute 'serialize'
2024-03-12 10:42:31,186 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:43:22,658 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:43:32,149 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:43:53,907 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:44:15,486 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-9' coro=<Session.run() done, defined at d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:92> exception=AttributeError("'int' object has no attribute 'serialize'")>
Traceback (most recent call last):
  File "d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 105, in run
    await self.task_send_frame
  File "d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 282, in send_frame
    self._writer.write(frame.serialize())
                       ^^^^^^^^^^^^^^^
AttributeError: 'int' object has no attribute 'serialize'
2024-03-12 10:45:10,599 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:45:19,712 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:51:14,081 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:51:17,552 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:51:20,424 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-9' coro=<Session.run() done, defined at d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:92> exception=AttributeError("'int' object has no attribute 'serialize'")>
Traceback (most recent call last):
  File "d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 105, in run
    await self.task_send_frame
  File "d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 282, in send_frame
    self._writer.write(frame.serialize())
                       ^^^^^^^^^^^^^^^
AttributeError: 'int' object has no attribute 'serialize'
2024-03-12 10:52:15,294 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:52:18,729 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:52:21,013 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-9' coro=<Session.run() done, defined at d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:92> exception=AttributeError("'int' object has no attribute 'serialize'")>
Traceback (most recent call last):
  File "d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 105, in run
    await self.task_send_frame
  File "d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 282, in send_frame
    self._writer.write(frame.serialize())
                       ^^^^^^^^^^^^^^^
AttributeError: 'int' object has no attribute 'serialize'
2024-03-12 10:52:50,225 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:52:52,799 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:52:54,770 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-9' coro=<Session.run() done, defined at d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:92> exception=AttributeError("'int' object has no attribute 'serialize'")>
Traceback (most recent call last):
  File "d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 105, in run
    await self.task_send_frame
  File "d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 282, in send_frame
    self._writer.write(frame.serialize())
                       ^^^^^^^^^^^^^^^
AttributeError: 'int' object has no attribute 'serialize'
2024-03-12 10:54:45,140 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:54:52,816 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:56:13,388 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:56:16,190 - DEBUG - Using proactor: IocpProactor
2024-03-12 10:56:20,449 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-9' coro=<Session.run() done, defined at d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:92> exception=RuntimeError("Task cannot await on itself: <Task pending name='Task-9' coro=<Session.run() running at d:\\skola\\6.semestr\\bakalarska_prace\\IEC104\\IEC104_SERVER\\v3.0\\Session.py:106>>")>
Traceback (most recent call last):
  File "d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 106, in run
    await self.task_run
RuntimeError: Task cannot await on itself: <Task pending name='Task-9' coro=<Session.run() running at d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:106>>
2024-03-12 11:37:05,916 - DEBUG - Using proactor: IocpProactor
2024-03-12 11:37:12,279 - DEBUG - Using proactor: IocpProactor
2024-03-12 15:35:38,799 - DEBUG - Using proactor: IocpProactor
2024-03-12 15:35:44,749 - DEBUG - Using proactor: IocpProactor
2024-03-12 15:35:57,883 - DEBUG - Using proactor: IocpProactor
2024-03-12 15:35:57,898 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=1128 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2288.0_x64__qbz5n2kfra8p0\Lib\asyncio\tasks.py", line 384, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.11_3.11.2288.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 437, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x00000194CDA0AD90>>
2024-03-12 15:36:01,634 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Session.run() done, defined at d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\skola\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 17:54:04,173 - DEBUG - Using proactor: IocpProactor
2024-03-12 17:54:29,444 - DEBUG - Using proactor: IocpProactor
2024-03-12 17:54:58,536 - DEBUG - Using proactor: IocpProactor
2024-03-12 17:54:58,536 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=564 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x0000023F44BAC710>>
2024-03-12 17:55:00,958 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 183, in handle_client
    await self.run()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 214, in run
    await asyncio.gather(*[queue.run() for queue in self.clients.values()])
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 102, in run
    message = await self._queue.get()
              ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError
2024-03-12 17:55:01,033 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 17:56:06,761 - DEBUG - Using proactor: IocpProactor
2024-03-12 17:56:28,057 - DEBUG - Using proactor: IocpProactor
2024-03-12 17:56:32,278 - DEBUG - Using proactor: IocpProactor
2024-03-12 17:56:43,637 - DEBUG - Using proactor: IocpProactor
2024-03-12 17:56:43,646 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=516 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA219CA840>>
2024-03-12 17:57:21,116 - DEBUG - Using proactor: IocpProactor
2024-03-12 17:57:39,294 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=520 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA219CA8A0>>
2024-03-12 18:01:19,983 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:01:29,612 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=516 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA219CA9C0>>
2024-03-12 18:01:41,832 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:01:43,109 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=532 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA219CAC60>>
2024-03-12 18:03:11,913 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:03:11,922 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=536 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA219CB830>>
2024-03-12 18:04:52,751 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:04:52,762 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=540 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA219CBA40>>
2024-03-12 18:08:11,180 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:08:11,190 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=536 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA219CB8C0>>
2024-03-12 18:24:05,658 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:24:05,672 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=488 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA219CBBC0>>
2024-03-12 18:24:39,977 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:24:39,991 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=336 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA219CBD40>>
2024-03-12 18:25:20,891 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:25:20,900 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=516 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA219CBE90>>
2024-03-12 18:26:07,186 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:26:07,195 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=488 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA21A74050>>
2024-03-12 18:26:19,049 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:26:19,058 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=532 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA21A74170>>
2024-03-12 18:26:43,956 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:26:43,966 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=520 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA21A74350>>
2024-03-12 18:28:13,304 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:28:13,313 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=524 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA21A74260>>
2024-03-12 18:29:06,810 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:29:06,820 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=536 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA21A74620>>
2024-03-12 18:30:14,842 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:30:14,846 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=528 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002AA21A74770>>
2024-03-12 18:30:21,333 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 183, in handle_client
    await self.run()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 214, in run
    await asyncio.gather(*[queue.run() for queue in self.clients.values()])
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 102, in run
    message = await self._queue.get()
              ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError
2024-03-12 18:30:21,349 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:30:21,354 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-17' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:30:21,359 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-23' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:30:21,364 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-29' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:30:21,369 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-35' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:30:21,373 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-41' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:30:21,378 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-47' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:30:21,383 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-53' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:30:21,387 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-59' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:30:21,392 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-65' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:30:21,399 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-101' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:30:21,404 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-95' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:30:21,408 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-89' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:30:21,412 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-83' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:30:21,417 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-77' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:30:21,421 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-71' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 18:32:09,007 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:32:13,643 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:32:25,295 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:33:07,854 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=948 read=<_OverlappedFuture finished result=0>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x00000230708FDA90>>
2024-03-12 18:33:19,643 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:33:23,039 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:35:47,556 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:36:03,665 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:36:15,700 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:36:43,411 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:36:57,189 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:36:57,199 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=468 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000001ACD542A960>>
2024-03-12 18:38:52,258 - DEBUG - Using proactor: IocpProactor
2024-03-12 18:38:52,268 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=480 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 202, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000001ACD31EB3E0>>
2024-03-12 19:18:19,098 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:18:57,774 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 183, in handle_client
    self.clients[client_address] = QueueManager(client_address)
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 214, in run
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 102, in run
    message = await self._queue.get()
              ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError
2024-03-12 19:18:57,801 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-17' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 19:18:57,805 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'Session' object has no attribute 'task_timeouts'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 108, in run
    await self.task_timeouts
          ^^^^^^^^^^^^^^^^^^
AttributeError: 'Session' object has no attribute 'task_timeouts'
2024-03-12 19:19:02,689 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:19:08,253 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:19:57,559 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:20:00,517 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:20:14,169 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=816 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    session.start()
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000001A46582E960>>
2024-03-12 19:20:43,276 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:20:50,087 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:21:07,550 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=1120 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    session.start()
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000001A90A29B860>>
2024-03-12 19:21:23,098 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:21:26,740 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:21:41,113 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=600 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    session.start()
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x0000018B5DAE27B0>>
2024-03-12 19:26:35,859 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:26:40,055 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:27:19,692 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:27:21,088 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:27:33,204 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=88 read=<_OverlappedFuture finished result=0>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 206, in handle_client
    session.start()
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002660D0DA6C0>>
2024-03-12 19:30:13,297 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:30:20,159 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:31:25,471 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:31:28,654 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:32:44,610 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=588 read=<_OverlappedFuture finished result=0>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 206, in handle_client
    session.start()
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x0000026D957535C0>>
2024-03-12 19:38:29,349 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:38:33,736 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:38:39,836 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=752 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 206, in handle_client
    session.start()
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000001F96A7E30B0>>
2024-03-12 19:40:45,732 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:40:48,845 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:40:52,359 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=1000 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 206, in handle_client
    session.start()
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x0000023F0D0F5670>>
2024-03-12 19:41:51,210 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:41:55,772 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:42:19,675 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=828 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 206, in handle_client
    session.start()
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x00000256E2F2E9F0>>
2024-03-12 19:43:43,770 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:43:47,289 - DEBUG - Using proactor: IocpProactor
2024-03-12 19:43:53,248 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=1008 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 206, in handle_client
    session.start()
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000001B852771BB0>>
2024-03-12 20:25:34,421 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:25:50,726 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:25:55,545 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:25:59,454 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=872 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 206, in handle_client
    session.start()
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 91, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x0000027C11BADAF0>>
2024-03-12 20:29:42,577 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:29:45,892 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:29:48,794 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=828 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 206, in handle_client
    session.start()
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 91, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x000002B23DC7BC50>>
2024-03-12 20:34:38,379 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:34:52,401 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:34:56,552 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=372 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 206, in handle_client
    session.start()
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 91, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x0000020C16CD3920>>
2024-03-12 20:37:07,006 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:37:14,146 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:37:14,157 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=512 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 206, in handle_client
    session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 91, in start
    self.task_timeouts = asyncio.create_task(self.check_for_timeouts)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 420, in create_task
    task = loop.create_task(coro)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 456, in create_task
    task = tasks.Task(coro, loop=self, name=name, context=context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: a coroutine was expected, got <bound method Session.check_for_timeouts of <Session.Session object at 0x0000018782E1A840>>
2024-03-12 20:40:35,542 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:40:37,395 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:40:41,352 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'coroutine' object has no attribute 'get_type_in_word'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 106, in run
    await self.update_state_machine_server(resp)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 385, in update_state_machine_server
    frame = fr.get_type_in_word()   # S-format
            ^^^^^^^^^^^^^^^^^^^
AttributeError: 'coroutine' object has no attribute 'get_type_in_word'
2024-03-12 20:41:22,773 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:41:27,271 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:42:16,222 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:42:19,667 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:43:28,547 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:43:39,375 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:45:16,504 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:45:20,555 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:46:46,799 - DEBUG - Using proactor: IocpProactor
2024-03-12 20:46:49,328 - DEBUG - Using proactor: IocpProactor
2024-03-12 21:44:20,015 - DEBUG - Using proactor: IocpProactor
2024-03-12 21:44:23,948 - DEBUG - Using proactor: IocpProactor
2024-03-12 21:44:28,234 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'coroutine' object has no attribute 'get_type_in_word'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 106, in run
    await self.update_state_machine_server(resp)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 385, in update_state_machine_server
    frame = fr.get_type_in_word()   # S-format
            ^^^^^^^^^^^^^^^^^^^
AttributeError: 'coroutine' object has no attribute 'get_type_in_word'
2024-03-12 21:46:55,789 - DEBUG - Using proactor: IocpProactor
2024-03-12 21:46:59,230 - DEBUG - Using proactor: IocpProactor
2024-03-12 21:47:13,778 - DEBUG - Using proactor: IocpProactor
2024-03-12 21:48:10,496 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-18' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'coroutine' object has no attribute 'get_type_in_word'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 106, in run
    if resp:
        ^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 385, in update_state_machine_server
    else:
          
AttributeError: 'coroutine' object has no attribute 'get_type_in_word'
2024-03-12 21:48:10,510 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-11' coro=<Session.run() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:94> exception=AttributeError("'coroutine' object has no attribute 'get_type_in_word'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 106, in run
    if resp:
        ^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 385, in update_state_machine_server
    else:
          
AttributeError: 'coroutine' object has no attribute 'get_type_in_word'
2024-03-12 21:48:17,620 - DEBUG - Using proactor: IocpProactor
2024-03-12 21:48:21,582 - DEBUG - Using proactor: IocpProactor
2024-03-12 21:48:51,300 - DEBUG - Using proactor: IocpProactor
2024-03-12 21:48:54,353 - DEBUG - Using proactor: IocpProactor
2024-03-12 21:50:21,627 - DEBUG - Using proactor: IocpProactor
2024-03-12 21:50:24,782 - DEBUG - Using proactor: IocpProactor
2024-03-12 21:52:38,240 - DEBUG - Using proactor: IocpProactor
2024-03-12 21:52:45,872 - DEBUG - Using proactor: IocpProactor
2024-03-12 21:55:41,817 - DEBUG - Using proactor: IocpProactor
2024-03-12 21:55:44,084 - DEBUG - Using proactor: IocpProactor
2024-03-12 22:10:45,891 - DEBUG - Using proactor: IocpProactor
2024-03-12 22:10:49,385 - DEBUG - Using proactor: IocpProactor
2024-03-12 22:11:15,158 - DEBUG - Using proactor: IocpProactor
2024-03-12 22:11:17,807 - DEBUG - Using proactor: IocpProactor
2024-03-12 22:11:47,234 - DEBUG - Using proactor: IocpProactor
2024-03-12 22:11:50,839 - DEBUG - Using proactor: IocpProactor
2024-03-12 22:11:50,844 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=528 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 206, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 93, in start
    await self.run()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 113, in run
    await self.update_state_machine_server(resp)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 393, in update_state_machine_server
    frame = fr.get_type_in_word()   # S-format
            ^^^^^^^^^^^^^^^^^^^
AttributeError: 'coroutine' object has no attribute 'get_type_in_word'
2024-03-12 22:12:16,268 - DEBUG - Using proactor: IocpProactor
2024-03-12 22:12:18,327 - DEBUG - Using proactor: IocpProactor
2024-03-12 22:12:18,832 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=520 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 206, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 93, in start
    await self.run()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 120, in run
    tasks = await asyncio.all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object set can't be used in 'await' expression
2024-03-12 22:13:55,428 - DEBUG - Using proactor: IocpProactor
2024-03-12 22:13:57,720 - DEBUG - Using proactor: IocpProactor
2024-03-12 22:13:58,234 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=312 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 206, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 93, in start
    await self.run()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 120, in run
    tasks = await asyncio.all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object set can't be used in 'await' expression
2024-03-12 22:14:23,259 - DEBUG - Using proactor: IocpProactor
2024-03-12 22:14:25,394 - DEBUG - Using proactor: IocpProactor
2024-03-12 22:14:25,899 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=516 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 206, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 93, in start
    await self.run()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 121, in run
    tasks = await asyncio.all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object set can't be used in 'await' expression
2024-03-13 15:03:13,431 - DEBUG - Using proactor: IocpProactor
2024-03-13 15:03:19,584 - DEBUG - Using proactor: IocpProactor
2024-03-13 15:03:20,084 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=312 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    await self.run()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 120, in run
    tasks = await asyncio.all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object set can't be used in 'await' expression
2024-03-13 15:04:44,917 - DEBUG - Using proactor: IocpProactor
2024-03-13 15:04:49,347 - DEBUG - Using proactor: IocpProactor
2024-03-13 15:05:11,721 - DEBUG - Using proactor: IocpProactor
2024-03-13 15:05:15,716 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:174>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:174>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    await self.run()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 122, in run
    await asyncio.sleep(0.5) # kritick bod pro rychlost aplikace
    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-13 15:05:15,731 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:174>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:174>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    await self.run()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 122, in run
    await asyncio.sleep(0.5) # kritick bod pro rychlost aplikace
    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-13 16:01:38,658 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:01:41,994 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:01:48,113 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:174>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:174>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 92, in start
    await self.run()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 122, in run
    await asyncio.sleep(0.5) # kritick bod pro rychlost aplikace
    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-13 16:02:40,501 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:02:42,620 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:02:49,236 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:03:08,137 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=516>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1971, in _run_once
    handle._run()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 95, in start
    await asyncio.gather(self.task_handle_messages,
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 854, in gather
    outer = _GatheringFuture(children, loop=loop)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 712, in __init__
    super().__init__(loop=loop)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1989, in get_debug
    def get_debug(self):
    
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
2024-03-13 16:03:09,854 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:03:11,759 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:08:24,808 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=312 read=<_OverlappedFuture finished result=0>>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1971, in _run_once
    handle._run()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 94, in start
    while True:
          ^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
2024-03-13 16:08:24,824 - ERROR - Exception in callback _ProactorBasePipeTransport._call_connection_lost(None)
handle: <Handle _ProactorBasePipeTransport._call_connection_lost(None)>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1971, in _run_once
    handle._run()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 94, in start
    while True:
          ^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 165, in _call_connection_lost
    self._sock.shutdown(socket.SHUT_RDWR)
ConnectionResetError: [WinError 10054] Stvajc pipojen bylo vynucen ukoneno vzdlenm hostitelem
2024-03-13 16:08:26,892 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<main() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py:274> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-13 16:08:28,208 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:08:30,448 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:08:33,446 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=524 read=<_OverlappedFuture finished result=0>>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1971, in _run_once
    handle._run()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 96, in start
    await asyncio.gather(self.task_handle_messages,
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 731, in gather
    def gather(*coros_or_futures, return_exceptions=False):
    
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
2024-03-13 16:12:24,383 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:12:26,906 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:12:31,516 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-5' coro=<ServerIEC104.handle_client() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py:174> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 282, in <module>
    asyncio.run(main())
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 193, in run
    with Runner(debug=debug, loop_factory=loop_factory) as runner:
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 62, in __exit__
    self.close()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 70, in close
    _cancel_all_tasks(loop)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 205, in _cancel_all_tasks
    loop.run_until_complete(tasks.gather(*to_cancel, return_exceptions=True))
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1971, in _run_once
    handle._run()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 96, in start
    await asyncio.gather(self.task_handle_messages,
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1971, in _run_once
    handle._run()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 318, in send_frame
    print(f"Stop send_frame_task()")
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
2024-03-13 16:12:31,522 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<main() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py:274> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-13 16:13:47,742 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:13:50,382 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:13:53,572 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-5' coro=<ServerIEC104.handle_client() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py:174> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 282, in <module>
    asyncio.run(main())
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 193, in run
    with Runner(debug=debug, loop_factory=loop_factory) as runner:
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 62, in __exit__
    self.close()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 70, in close
    _cancel_all_tasks(loop)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 205, in _cancel_all_tasks
    loop.run_until_complete(tasks.gather(*to_cancel, return_exceptions=True))
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1971, in _run_once
    handle._run()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 96, in start
    await asyncio.gather(self.task_handle_messages,
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1971, in _run_once
    handle._run()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 305, in send_frame
    print(f"Start send_frame_task()")
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
2024-03-13 16:13:53,578 - ERROR - Task was destroyed but it is pending!
task: <Task cancelling name='Task-1' coro=<main() running at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py:274> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py:767]>
2024-03-13 16:15:23,864 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:15:25,850 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:15:28,101 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:174>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:174>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 96, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 304, in send_frame
    await asyncio.sleep(0.2) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-13 16:21:08,111 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:21:10,157 - DEBUG - Using proactor: IocpProactor
2024-03-13 16:21:13,360 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:174>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:174>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 98, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 306, in send_frame
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-13 17:55:16,585 - DEBUG - Using proactor: IocpProactor
2024-03-13 17:55:18,991 - DEBUG - Using proactor: IocpProactor
2024-03-13 17:55:23,564 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:174>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:174>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 98, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 306, in send_frame
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-13 18:02:53,637 - DEBUG - Using proactor: IocpProactor
2024-03-13 18:02:55,812 - DEBUG - Using proactor: IocpProactor
2024-03-13 18:03:16,183 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=528>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 349, in check_for_timeouts
    frame = self._queue.generate_testdt_act()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 349, in generate_testdt_act
    return UFormat(acpi.TESTFR_ACT)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\UFormat.py", line 7, in __init__
    super().__init__('U-format')
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 16, in __init__
    self.__structure = None
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  [Previous line repeated 742 more times]
RecursionError: maximum recursion depth exceeded
2024-03-13 18:31:07,992 - DEBUG - Using proactor: IocpProactor
2024-03-13 18:31:10,703 - DEBUG - Using proactor: IocpProactor
2024-03-13 18:31:16,251 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:172>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:172>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 206, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 361, in update_state_machine_server
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-13 18:32:54,312 - DEBUG - Using proactor: IocpProactor
2024-03-13 18:32:56,087 - DEBUG - Using proactor: IocpProactor
2024-03-13 18:33:14,675 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 361, in update_state_machine_server
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-13 18:51:16,012 - DEBUG - Using proactor: IocpProactor
2024-03-13 18:51:19,037 - DEBUG - Using proactor: IocpProactor
2024-03-13 18:51:24,955 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 465, in update_state_machine_server
    await asyncio.sleep(self._async_time)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-13 18:59:14,545 - DEBUG - Using proactor: IocpProactor
2024-03-13 18:59:16,495 - DEBUG - Using proactor: IocpProactor
2024-03-13 18:59:19,583 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 361, in update_state_machine_server
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-13 19:03:48,221 - DEBUG - Using proactor: IocpProactor
2024-03-13 19:03:50,716 - DEBUG - Using proactor: IocpProactor
2024-03-13 19:03:53,150 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 361, in update_state_machine_server
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-13 19:06:29,499 - DEBUG - Using proactor: IocpProactor
2024-03-13 19:06:55,953 - DEBUG - Using proactor: IocpProactor
2024-03-13 19:07:02,259 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 361, in update_state_machine_server
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-13 19:07:41,466 - DEBUG - Using proactor: IocpProactor
2024-03-13 19:07:52,618 - DEBUG - Using proactor: IocpProactor
2024-03-13 19:08:12,659 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=348 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 349, in check_for_timeouts
    frame = self._queue.generate_testdt_act()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 366, in generate_testdt_act
    return UFormat(acpi.TESTFR_ACT)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\UFormat.py", line 7, in __init__
    super().__init__('U-format')
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 16, in __init__
    self.__structure = None
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  [Previous line repeated 742 more times]
RecursionError: maximum recursion depth exceeded
2024-03-13 19:08:27,107 - DEBUG - Using proactor: IocpProactor
2024-03-13 19:08:44,141 - DEBUG - Using proactor: IocpProactor
2024-03-13 19:08:47,140 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 349, in check_for_timeouts
    frame = self._queue.generate_testdt_act()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 366, in generate_testdt_act
    return UFormat(acpi.TESTFR_ACT)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\UFormat.py", line 7, in __init__
    super().__init__('U-format')
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 16, in __init__
    self.__structure = None
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  [Previous line repeated 742 more times]
RecursionError: maximum recursion depth exceeded
2024-03-13 19:09:04,169 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 349, in check_for_timeouts
    frame = self._queue.generate_testdt_act()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 366, in generate_testdt_act
    return UFormat(acpi.TESTFR_ACT)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\UFormat.py", line 7, in __init__
    super().__init__('U-format')
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 16, in __init__
    self.__structure = None
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  [Previous line repeated 742 more times]
RecursionError: maximum recursion depth exceeded
2024-03-13 19:10:07,610 - DEBUG - Using proactor: IocpProactor
2024-03-13 19:10:27,624 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 349, in check_for_timeouts
    frame = self._queue.generate_testdt_act()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 366, in generate_testdt_act
    return UFormat(acpi.TESTFR_ACT)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\UFormat.py", line 7, in __init__
    super().__init__('U-format')
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 16, in __init__
    self.__structure = None
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  [Previous line repeated 742 more times]
RecursionError: maximum recursion depth exceeded
2024-03-13 19:10:49,339 - DEBUG - Using proactor: IocpProactor
2024-03-13 19:11:09,851 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=484>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 349, in check_for_timeouts
    frame = self._queue.generate_testdt_act()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 366, in generate_testdt_act
    return UFormat(acpi.TESTFR_ACT)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\UFormat.py", line 7, in __init__
    super().__init__('U-format')
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 16, in __init__
    self.__structure = None
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  [Previous line repeated 742 more times]
RecursionError: maximum recursion depth exceeded
2024-03-13 19:13:46,950 - DEBUG - Using proactor: IocpProactor
2024-03-13 19:13:54,504 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 278, in send_frame
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-13 19:15:19,859 - DEBUG - Using proactor: IocpProactor
2024-03-13 19:15:30,579 - DEBUG - Using proactor: IocpProactor
2024-03-13 19:15:37,543 - DEBUG - Using proactor: IocpProactor
2024-03-13 19:15:57,698 - DEBUG - Using proactor: IocpProactor
2024-03-13 19:15:57,986 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=528>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 349, in check_for_timeouts
    frame = self._queue.generate_testdt_act()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 366, in generate_testdt_act
    return UFormat(acpi.TESTFR_ACT)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\UFormat.py", line 7, in __init__
    super().__init__('U-format')
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 16, in __init__
    self.__structure = None
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  [Previous line repeated 742 more times]
RecursionError: maximum recursion depth exceeded
2024-03-13 19:16:17,770 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=532 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 349, in check_for_timeouts
    frame = self._queue.generate_testdt_act()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 366, in generate_testdt_act
    return UFormat(acpi.TESTFR_ACT)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\UFormat.py", line 7, in __init__
    super().__init__('U-format')
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 16, in __init__
    self.__structure = None
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  [Previous line repeated 742 more times]
RecursionError: maximum recursion depth exceeded
2024-03-14 16:45:08,741 - DEBUG - Using proactor: IocpProactor
2024-03-14 16:45:15,644 - DEBUG - Using proactor: IocpProactor
2024-03-14 16:45:32,515 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 361, in update_state_machine_server
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 16:47:28,553 - DEBUG - Using proactor: IocpProactor
2024-03-14 16:47:31,296 - DEBUG - Using proactor: IocpProactor
2024-03-14 16:47:35,115 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 465, in update_state_machine_server
    await asyncio.sleep(self._async_time)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 16:48:56,322 - DEBUG - Using proactor: IocpProactor
2024-03-14 16:48:58,909 - DEBUG - Using proactor: IocpProactor
2024-03-14 16:49:08,530 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 361, in update_state_machine_server
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 16:51:11,184 - DEBUG - Using proactor: IocpProactor
2024-03-14 16:51:13,846 - DEBUG - Using proactor: IocpProactor
2024-03-14 16:51:16,617 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 326, in check_for_timeouts
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 16:53:20,573 - DEBUG - Using proactor: IocpProactor
2024-03-14 16:55:05,072 - DEBUG - Using proactor: IocpProactor
2024-03-14 16:55:25,499 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=352 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 349, in check_for_timeouts
    frame = self._queue.generate_testdt_act()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 469, in generate_testdt_act
    return UFormat(acpi.TESTFR_ACT)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\UFormat.py", line 7, in __init__
    super().__init__('U-format')
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 16, in __init__
    self.__structure = None
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Frame.py", line 91, in __structure
    self.__structure = structure
    ^^^^^^^^^^^^^^^^
  [Previous line repeated 742 more times]
RecursionError: maximum recursion depth exceeded
2024-03-14 16:57:11,681 - DEBUG - Using proactor: IocpProactor
2024-03-14 16:57:14,102 - DEBUG - Using proactor: IocpProactor
2024-03-14 16:57:17,783 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 326, in check_for_timeouts
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 17:02:12,178 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:02:14,515 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:02:17,109 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 278, in send_frame
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 17:02:35,751 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:02:53,949 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:03:14,417 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 349, in check_for_timeouts
    frame = self._queue.generate_testdt_act()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 469, in generate_testdt_act
    return UFormat(acpi.TESTFR_ACT)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\UFormat.py", line 11, in __init__
    self._type(type)
TypeError: 'int' object is not callable
2024-03-14 17:03:15,288 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:03:35,595 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=544 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 349, in check_for_timeouts
    frame = self._queue.generate_testdt_act()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 469, in generate_testdt_act
    return UFormat(acpi.TESTFR_ACT)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\UFormat.py", line 11, in __init__
    self._type(type)
TypeError: 'int' object is not callable
2024-03-14 17:04:39,476 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:04:59,849 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=548 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 349, in check_for_timeouts
    frame = self._queue.generate_testdt_act()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 469, in generate_testdt_act
    return UFormat(acpi.TESTFR_ACT)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\UFormat.py", line 11, in __init__
    self.type = type
TypeError: 'int' object is not callable
2024-03-14 17:06:10,181 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:06:30,515 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=324 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 349, in check_for_timeouts
    frame = self._queue.generate_testdt_act()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 469, in generate_testdt_act
    return UFormat(acpi.TESTFR_ACT)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\UFormat.py", line 11, in __init__
    self.type = type
TypeError: 'int' object is not callable
2024-03-14 17:08:08,131 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:08:28,585 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=540 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 349, in check_for_timeouts
    frame = self._queue.generate_testdt_act()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 469, in generate_testdt_act
    return UFormat(acpi.TESTFR_ACT)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\UFormat.py", line 11, in __init__
    self.type = type
TypeError: 'int' object is not callable
2024-03-14 17:09:19,841 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:09:40,231 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=516>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 349, in check_for_timeouts
    frame = self._queue.generate_testdt_act()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 469, in generate_testdt_act
    return UFormat(acpi.TESTFR_ACT)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\UFormat.py", line 11, in __init__
    self.type = type
TypeError: 'int' object is not callable
2024-03-14 17:25:48,523 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:25:51,846 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:25:55,729 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 326, in check_for_timeouts
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 17:32:18,772 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:32:20,919 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:32:36,497 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 278, in send_frame
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 17:36:56,978 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:36:59,786 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:37:06,629 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 326, in check_for_timeouts
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 17:39:18,685 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:39:22,887 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:39:31,205 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 361, in update_state_machine_server
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 17:42:02,836 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:42:05,015 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:42:07,154 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 281, in send_frame
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 17:42:28,790 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:42:32,927 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:42:36,975 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 329, in check_for_timeouts
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 17:43:47,471 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:43:49,186 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:43:51,446 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:43:53,681 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 99, in start
    await asyncio.gather(self.task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 364, in update_state_machine_server
    await asyncio.sleep(self._async_time) # kritick bod pro rychlost
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 17:52:48,206 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:52:50,684 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:52:53,790 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 684, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 271, in main
    await server.listen()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 157, in listen
    await self._server.serve_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 369, in serve_forever
    await self._serving_forever_fut
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 101, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 337, in check_for_timeouts
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 17:54:51,677 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:54:53,769 - DEBUG - Using proactor: IocpProactor
2024-03-14 17:54:55,820 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 684, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 271, in main
    await server.listen()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 157, in listen
    await self._server.serve_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 369, in serve_forever
    await self._serving_forever_fut
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 101, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 220, in handle_messages
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 18:00:54,557 - DEBUG - Using proactor: IocpProactor
2024-03-14 18:00:57,209 - DEBUG - Using proactor: IocpProactor
2024-03-14 18:00:59,781 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 684, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 271, in main
    await server.listen()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 157, in listen
    await self._server.serve_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 369, in serve_forever
    await self._serving_forever_fut
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 102, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 339, in check_for_timeouts
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 18:10:06,976 - DEBUG - Using proactor: IocpProactor
2024-03-14 18:10:10,039 - DEBUG - Using proactor: IocpProactor
2024-03-14 18:10:29,423 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 684, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 271, in main
    await server.listen()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 157, in listen
    await self._server.serve_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 369, in serve_forever
    await self._serving_forever_fut
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 102, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 339, in check_for_timeouts
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 18:16:25,154 - DEBUG - Using proactor: IocpProactor
2024-03-14 18:16:28,862 - DEBUG - Using proactor: IocpProactor
2024-03-14 18:16:33,482 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 684, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 271, in main
    await server.listen()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 157, in listen
    await self._server.serve_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 369, in serve_forever
    await self._serving_forever_fut
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 102, in start
    resp = await self.__task_handle_messages
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 224, in handle_messages_server
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 18:18:05,489 - DEBUG - Using proactor: IocpProactor
2024-03-14 18:18:07,309 - DEBUG - Using proactor: IocpProactor
2024-03-14 18:18:10,338 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1971, in _run_once
    handle._run()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 422, in check_for_timeouts
    print(f"*******************************")
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 100, in start
    resp = await self.__task_handle_messages
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 257, in handle_messages_server
    task = await asyncio.create_task(self.update_state_machine_server(new_apdu))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 466, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 344, in send_frame
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 18:18:10,372 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-12' coro=<Session.check_for_timeouts() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:391> exception=KeyboardInterrupt()>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 279, in <module>
    asyncio.run(main())
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1971, in _run_once
    handle._run()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 422, in check_for_timeouts
    print(f"*******************************")
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt
2024-03-14 18:28:29,717 - DEBUG - Using proactor: IocpProactor
2024-03-14 18:28:31,423 - DEBUG - Using proactor: IocpProactor
2024-03-14 18:28:33,973 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 684, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 271, in main
    await server.listen()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 157, in listen
    await self._server.serve_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 369, in serve_forever
    await self._serving_forever_fut
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 107, in start
    await asyncio.gather(self.__task_send_frame,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 397, in check_for_timeouts
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 18:38:47,792 - DEBUG - Using proactor: IocpProactor
2024-03-14 18:38:50,535 - DEBUG - Using proactor: IocpProactor
2024-03-14 18:39:18,061 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 107, in start
    await asyncio.gather(self.__task_send_frame,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 410, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 290, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 357, in check_for_timeouts
    await self.send_frame(frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 290, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 402, in _loop_writing
    self._write_fut = self._loop._proactor.send(self._sock, data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 537, in send
    ov.WSASend(conn.fileno(), buf, flags)
ConnectionAbortedError: [WinError 10053] Software v hostitelskm potai ukonil vytvoen pipojen
2024-03-14 19:33:15,132 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:33:17,917 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:33:20,976 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 408, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 288, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 19:34:16,695 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:34:18,684 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:34:23,717 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 409, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 289, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 19:35:50,553 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:35:52,409 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:35:55,468 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 409, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 289, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 19:41:27,666 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:41:29,480 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:41:43,339 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 475, in update_state_machine_server
    await asyncio.sleep(self.__async_time)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 19:43:28,405 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:43:30,314 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:43:37,578 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 367, in update_state_machine_server
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 19:45:30,536 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:45:33,397 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:45:36,834 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 367, in update_state_machine_server
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 19:48:04,503 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:48:06,823 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:48:11,160 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 223, in handle_messages
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 19:49:56,849 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:50:10,825 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:51:13,194 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 461, in finish_socket_func
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 64] Zadan sov nzev nen ji dle kdispozici

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 356, in check_for_timeouts
    await self.send_frame(frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 289, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 229, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 798, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 465, in finish_socket_func
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] Zadan sov nzev nen ji dle kdispozici
2024-03-14 19:51:15,351 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:52:33,508 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 461, in finish_socket_func
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 64] Zadan sov nzev nen ji dle kdispozici

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 229, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 356, in check_for_timeouts
    await self.send_frame(frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 289, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 798, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 465, in finish_socket_func
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] Zadan sov nzev nen ji dle kdispozici
2024-03-14 19:52:35,596 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:54:17,271 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 461, in finish_socket_func
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 64] Zadan sov nzev nen ji dle kdispozici

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 356, in check_for_timeouts
    await self.send_frame(frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 289, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 229, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 798, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 465, in finish_socket_func
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] Zadan sov nzev nen ji dle kdispozici
2024-03-14 19:55:49,509 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:55:51,459 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:55:51,971 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=496 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    frame = await self.__outgoing_queue.get_message()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\OutgoingQueueManager.py", line 16, in get_message
    return await self._out_queue.get_nowait()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\queues.py", line 181, in get_nowait
    raise QueueEmpty
asyncio.queues.QueueEmpty
2024-03-14 19:55:57,469 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-6' coro=<Session.send_frame() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:281> exception=TypeError("object UFormat can't be used in 'await' expression")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    frame = await self.__outgoing_queue.get_message()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\OutgoingQueueManager.py", line 16, in get_message
    return await self._out_queue.get_nowait()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object UFormat can't be used in 'await' expression
2024-03-14 19:57:50,496 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:57:52,170 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:57:54,644 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 370, in update_state_machine_server
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 19:58:09,741 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:58:11,395 - DEBUG - Using proactor: IocpProactor
2024-03-14 19:58:11,908 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=148 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 291, in send_frame
    item = await self.__outgoing_queue.get_message()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\OutgoingQueueManager.py", line 16, in get_message
    return await self._out_queue.get_nowait()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\queues.py", line 181, in get_nowait
    raise QueueEmpty
asyncio.queues.QueueEmpty
2024-03-14 19:58:13,439 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-6' coro=<Session.send_frame() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:281> exception=TypeError("object UFormat can't be used in 'await' expression")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 291, in send_frame
    item = await self.__outgoing_queue.get_message()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\OutgoingQueueManager.py", line 16, in get_message
    return await self._out_queue.get_nowait()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object UFormat can't be used in 'await' expression
2024-03-14 20:00:28,314 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:00:34,838 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:00:35,359 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=512 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 291, in send_frame
    item = await self.__outgoing_queue.get_message()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\OutgoingQueueManager.py", line 16, in get_message
    return await self._out_queue.get_nowait()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\queues.py", line 181, in get_nowait
    raise QueueEmpty
asyncio.queues.QueueEmpty
2024-03-14 20:01:26,938 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:01:27,470 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=516 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 291, in send_frame
    if not self.__outgoing_queue.is_Empty():
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\OutgoingQueueManager.py", line 16, in get_message
    return await self._out_queue.get_nowait()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\queues.py", line 181, in get_nowait
    raise QueueEmpty
asyncio.queues.QueueEmpty
2024-03-14 20:02:46,293 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:02:47,623 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:02:52,434 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 283, in send_frame
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 20:03:11,104 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:03:12,868 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:03:13,379 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=540 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    frame = await self.__outgoing_queue.get_message()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\OutgoingQueueManager.py", line 16, in get_message
    return await self._out_queue.get_nowait()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\queues.py", line 181, in get_nowait
    raise QueueEmpty
asyncio.queues.QueueEmpty
2024-03-14 20:03:21,647 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-6' coro=<Session.send_frame() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:281> exception=TypeError("object UFormat can't be used in 'await' expression")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    frame = await self.__outgoing_queue.get_message()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\OutgoingQueueManager.py", line 16, in get_message
    return await self._out_queue.get_nowait()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object UFormat can't be used in 'await' expression
2024-03-14 20:05:07,527 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:05:12,409 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:05:12,935 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=312 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    frame = await self.__outgoing_queue.get_message()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\OutgoingQueueManager.py", line 16, in get_message
    return await self._out_queue.get_nowait()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\queues.py", line 181, in get_nowait
    raise QueueEmpty
asyncio.queues.QueueEmpty
2024-03-14 20:06:10,344 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:06:10,864 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=340 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    print(f"posl se neco z odchoz fronty")
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\OutgoingQueueManager.py", line 16, in get_message
    return await self._out_queue.get_nowait()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\queues.py", line 181, in get_nowait
    raise QueueEmpty
asyncio.queues.QueueEmpty
2024-03-14 20:06:48,016 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:06:49,994 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:06:50,502 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=348 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 293, in send_frame
    frame = await self.__outgoing_queue.get_message()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\OutgoingQueueManager.py", line 16, in get_message
    return self._out_queue.get_nowait()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\queues.py", line 181, in get_nowait
    raise QueueEmpty
asyncio.queues.QueueEmpty
2024-03-14 20:06:52,729 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-6' coro=<Session.send_frame() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:281> exception=AttributeError("'UFormat' object has no attribute 'get_ssn'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 296, in send_frame
    self.__packet_buffer.add_frame(frame.get_ssn(), frame)
                                   ^^^^^^^^^^^^^
AttributeError: 'UFormat' object has no attribute 'get_ssn'
2024-03-14 20:09:51,171 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:09:52,960 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:09:53,467 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport fd=316 read=<_OverlappedFuture pending cb=[_ProactorReadPipeTransport._loop_reading()]>>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 103, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    frame = await self.__outgoing_queue.get_message()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\OutgoingQueueManager.py", line 17, in get_message
    return self._out_queue.get_nowait()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\queues.py", line 181, in get_nowait
    raise QueueEmpty
asyncio.queues.QueueEmpty
2024-03-14 20:09:54,163 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-6' coro=<Session.send_frame() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:280> exception=AttributeError("'UFormat' object has no attribute 'ssn'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 295, in send_frame
    self.__packet_buffer.add_frame(frame.ssn, frame)
                                   ^^^^^^^^^
AttributeError: 'UFormat' object has no attribute 'ssn'
2024-03-14 20:10:49,321 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:10:59,160 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:12:49,961 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 461, in finish_socket_func
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 64] Zadan sov nzev nen ji dle kdispozici

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 103, in start
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 362, in check_for_timeouts
    await self.send_frame(resp)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 288, in send_frame
    self.__writer.write(frame.serialize())
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 798, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 465, in finish_socket_func
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] Zadan sov nzev nen ji dle kdispozici
2024-03-14 20:12:54,441 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:12:57,031 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:12:59,250 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:13:15,026 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 419, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 289, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 20:13:48,008 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:13:49,775 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:13:56,942 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 420, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 290, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 20:15:56,096 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:16:15,929 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:17:04,998 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:17:10,276 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:17:16,572 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:17:20,276 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 486, in update_state_machine_server
    await asyncio.sleep(self.__async_time)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 20:19:22,382 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:19:24,173 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:19:37,908 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 420, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 290, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 20:24:51,807 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:24:54,151 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:25:04,817 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 420, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 290, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 20:26:34,685 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:26:36,669 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:26:42,239 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 420, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 290, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 20:29:14,995 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:29:16,795 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:29:21,015 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 224, in handle_messages
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 20:29:21,040 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<QueueManager.start() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py:50> exception=QueueEmpty()>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 54, in start
    await asyncio.gather(self.__task_check_in_queue,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 75, in check_in_queue
    message = await self.__in_queue.get_message()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\IncomingQueueManager.py", line 27, in get_message
    return await self._in_queue.get_nowait()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\queues.py", line 181, in get_nowait
    raise QueueEmpty
asyncio.queues.QueueEmpty
2024-03-14 20:29:32,214 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:29:34,061 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:29:35,806 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 224, in handle_messages
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 20:29:35,830 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<QueueManager.start() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py:50> exception=QueueEmpty()>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 54, in start
    await asyncio.gather(self.__task_check_in_queue,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 75, in check_in_queue
    message = await self.__in_queue.get_message()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\IncomingQueueManager.py", line 27, in get_message
    return await self._in_queue.get_nowait()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\queues.py", line 181, in get_nowait
    raise QueueEmpty
asyncio.queues.QueueEmpty
2024-03-14 20:33:05,830 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:33:12,853 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:33:33,801 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 461, in finish_socket_func
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 64] Zadan sov nzev nen ji dle kdispozici

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 367, in check_for_timeouts
    print(f"\t {time.time() - last_timestamp}")
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 290, in send_frame
    print(f"posl se neco z odchoz fronty")
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 798, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 465, in finish_socket_func
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] Zadan sov nzev nen ji dle kdispozici
2024-03-14 20:34:16,157 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:35:15,275 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 367, in check_for_timeouts
    print(f"\t {time.time() - last_timestamp}")
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 284, in send_frame
    print(f"{time.ctime()} - Send frame: {frame}")
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 20:35:15,299 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<QueueManager.start() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py:50> exception=QueueEmpty()>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 54, in start
    await asyncio.gather(self.__task_check_in_queue,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 75, in check_in_queue
    message = await self.__in_queue.get_message()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\IncomingQueueManager.py", line 27, in get_message
    return await self._in_queue.get_nowait()
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\queues.py", line 181, in get_nowait
    raise QueueEmpty
asyncio.queues.QueueEmpty
2024-03-14 20:35:17,963 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:35:22,129 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:36:28,264 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 461, in finish_socket_func
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 64] Zadan sov nzev nen ji dle kdispozici

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 363, in check_for_timeouts
    await self.send_frame(frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 286, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 798, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 465, in finish_socket_func
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] Zadan sov nzev nen ji dle kdispozici
2024-03-14 20:36:31,502 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:36:33,196 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:36:36,098 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 224, in handle_messages
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 20:37:44,044 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:37:46,126 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:37:49,198 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 416, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 286, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 20:37:55,270 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<QueueManager.start() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py:50> exception=TypeError("object UFormat can't be used in 'await' expression")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 54, in start
    await asyncio.gather(self.__task_check_in_queue,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 75, in check_in_queue
    message = await self.__in_queue.get_message()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\IncomingQueueManager.py", line 27, in get_message
    return await self._in_queue.get_nowait()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object UFormat can't be used in 'await' expression
2024-03-14 20:41:20,838 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:41:24,654 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:41:48,690 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-6' coro=<Session.send_frame() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:279> exception=ConnectionResetError(22, 'Zadan sov nzev nen ji dle k\xa0dispozici', None, 64, None)>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 461, in finish_socket_func
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 64] Zadan sov nzev nen ji dle kdispozici

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 287, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 364, in check_for_timeouts
    await self.send_frame(frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 287, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 798, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 465, in finish_socket_func
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] Zadan sov nzev nen ji dle kdispozici
2024-03-14 20:41:48,696 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<Session.check_for_timeouts() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:338> exception=ConnectionResetError(22, 'Zadan sov nzev nen ji dle k\xa0dispozici', None, 64, None)>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 461, in finish_socket_func
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 64] Zadan sov nzev nen ji dle kdispozici

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 287, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 364, in check_for_timeouts
    await self.send_frame(frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 287, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 798, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 465, in finish_socket_func
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] Zadan sov nzev nen ji dle kdispozici
2024-03-14 20:41:53,495 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:41:55,205 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:41:57,726 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 417, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 287, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 20:41:58,525 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<QueueManager.start() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py:50> exception=TypeError("object UFormat can't be used in 'await' expression")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 54, in start
    await asyncio.gather(self.__task_check_in_queue,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 75, in check_in_queue
    message = await self.__in_queue.get_message()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\IncomingQueueManager.py", line 27, in get_message
    return await self._in_queue.get_nowait()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object UFormat can't be used in 'await' expression
2024-03-14 20:44:15,997 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:44:19,070 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:44:22,031 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 224, in handle_messages
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 20:44:22,053 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<QueueManager.start() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py:50> exception=AttributeError("'NoneType' object has no attribute 'transmission_state'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 54, in start
    await asyncio.gather(self.__task_check_in_queue,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 76, in check_in_queue
    await self.handle_apdu(message)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 188, in handle_apdu
    if self.__session.transmission_state == 'STOPPED':
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'transmission_state'
2024-03-14 20:45:14,390 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:45:16,049 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:45:26,163 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 417, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 287, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 20:45:29,058 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-8' coro=<QueueManager.start() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py:50> exception=AttributeError("'NoneType' object has no attribute 'transmission_state'")>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 54, in start
    await asyncio.gather(self.__task_check_in_queue,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 76, in check_in_queue
    await self.handle_apdu(message)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\QueueManager.py", line 188, in handle_apdu
    if self.__session.transmission_state == 'STOPPED':
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'transmission_state'
2024-03-14 20:49:51,877 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:50:13,105 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:50:29,200 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 416, in update_state_machine_server
    await self.send_frame(new_frame)
  File "D:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 286, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 20:50:44,938 - DEBUG - Using proactor: IocpProactor
2024-03-14 20:50:46,586 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:07:07,620 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:07:08,954 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:07:25,335 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-6' coro=<Session.send_frame() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:278> exception=ConnectionResetError(22, 'Zadan sov nzev nen ji dle k\xa0dispozici', None, 64, None)>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 461, in finish_socket_func
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 64] Zadan sov nzev nen ji dle kdispozici

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 286, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 710, in read
    await self._wait_for_data('read')
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 542, in _wait_for_data
    await self._waiter
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 798, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 465, in finish_socket_func
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] Zadan sov nzev nen ji dle kdispozici
2024-03-14 21:07:28,287 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:07:34,857 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:07:46,528 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 207, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 104, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 416, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 286, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 21:14:23,996 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:14:26,086 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:14:32,683 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 109, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 421, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 291, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 235, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 291, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 402, in _loop_writing
    self._write_fut = self._loop._proactor.send(self._sock, data)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 537, in send
    ov.WSASend(conn.fileno(), buf, flags)
ConnectionAbortedError: [WinError 10053] Software v hostitelskm potai ukonil vytvoen pipojen
2024-03-14 21:19:08,532 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:19:10,411 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:19:14,973 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 109, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 421, in update_state_machine_server
    await self.send_frame(new_frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 291, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 21:22:26,807 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:22:39,610 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:25:02,024 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 110, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 286, in send_frame
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 21:25:06,605 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:25:13,441 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:25:23,103 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 110, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 21:27:15,428 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:27:17,553 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:27:25,182 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 110, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 21:30:51,515 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:30:53,408 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:31:03,481 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 110, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 230, in handle_messages
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 21:31:04,290 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-6' coro=<Session.send_frame() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:284> exception=ConnectionResetError('Connection lost')>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 21:35:42,343 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:35:44,994 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:35:52,487 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 110, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 380, in update_state_machine_server
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-14 21:35:54,786 - ERROR - Task exception was never retrieved
future: <Task finished name='Task-6' coro=<Session.send_frame() done, defined at d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py:284> exception=ConnectionResetError('Connection lost')>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 21:37:41,730 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:37:43,400 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:37:49,968 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:173>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 684, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 272, in main
    await server.listen()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 157, in listen
    await self._server.serve_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 369, in serve_forever
    await self._serving_forever_fut
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 110, in start
    await asyncio.gather(self.__task_handle_messages,
asyncio.exceptions.CancelledError
2024-03-14 21:39:23,721 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:39:25,593 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:39:34,420 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 110, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 21:41:35,021 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:41:36,917 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:42:06,361 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 110, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 389, in drain
    await self._protocol._drain_helper()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 166, in _drain_helper
    raise ConnectionResetError('Connection lost')
ConnectionResetError: Connection lost
2024-03-14 21:43:28,831 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:43:35,970 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:44:48,321 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 461, in finish_socket_func
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 64] Zadan sov nzev nen ji dle kdispozici

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 110, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 236, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 798, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 465, in finish_socket_func
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] Zadan sov nzev nen ji dle kdispozici
2024-03-14 21:44:50,340 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:45:21,202 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 461, in finish_socket_func
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 64] Zadan sov nzev nen ji dle kdispozici

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 110, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 798, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 465, in finish_socket_func
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] Zadan sov nzev nen ji dle kdispozici
2024-03-14 21:45:26,409 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:45:43,294 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 461, in finish_socket_func
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 64] Zadan sov nzev nen ji dle kdispozici

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 110, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 236, in handle_messages
    header = await asyncio.wait_for(self.__reader.read(2),timeout=0.2)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 520, in wait_for
    return await fut
           ^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 691, in read
    raise self._exception
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 798, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 465, in finish_socket_func
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] Zadan sov nzev nen ji dle kdispozici
2024-03-14 21:45:54,725 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:46:16,776 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:46:24,492 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 461, in finish_socket_func
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 64] Zadan sov nzev nen ji dle kdispozici

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 110, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 798, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 465, in finish_socket_func
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] Zadan sov nzev nen ji dle kdispozici
2024-03-14 21:46:53,987 - DEBUG - Using proactor: IocpProactor
2024-03-14 21:48:48,119 - ERROR - Unhandled exception in client_connected_cb
transport: <_ProactorSocketTransport closed>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 461, in finish_socket_func
    return ov.getresult()
           ^^^^^^^^^^^^^^
OSError: [WinError 64] Zadan sov nzev nen ji dle kdispozici

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 208, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 110, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 369, in check_for_timeouts
    await self.send_frame(frame)
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 292, in send_frame
    await self.__writer.drain()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 377, in drain
    raise exc
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\proactor_events.py", line 286, in _loop_reading
    length = fut.result()
             ^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 798, in _poll
    value = callback(transferred, key, ov)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 465, in finish_socket_func
    raise ConnectionResetError(*exc.args)
ConnectionResetError: [WinError 64] Zadan sov nzev nen ji dle kdispozici
2024-03-17 19:00:57,932 - DEBUG - Using proactor: IocpProactor
2024-03-17 19:01:38,460 - DEBUG - Using proactor: IocpProactor
2024-03-17 19:01:49,416 - DEBUG - Using proactor: IocpProactor
2024-03-17 19:02:28,609 - DEBUG - Using proactor: IocpProactor
2024-03-17 19:03:00,589 - DEBUG - Using proactor: IocpProactor
2024-03-17 19:03:36,182 - DEBUG - Using proactor: IocpProactor
2024-03-17 19:03:39,604 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:179>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:179>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 214, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 113, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 289, in send_frame
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-17 19:07:04,054 - DEBUG - Using proactor: IocpProactor
2024-03-17 19:07:06,959 - DEBUG - Using proactor: IocpProactor
2024-03-17 19:07:40,923 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:180>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:180>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 684, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 291, in main
    await server.listen()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 162, in listen
    await self._server.serve_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 369, in serve_forever
    await self._serving_forever_fut
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 215, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 113, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 289, in send_frame
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-17 19:09:00,855 - DEBUG - Using proactor: IocpProactor
2024-03-17 19:09:02,865 - DEBUG - Using proactor: IocpProactor
2024-03-17 19:09:05,146 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:180>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:180>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 671, in run_until_complete
    self.run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 321, in run_forever
    super().run_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 638, in run_forever
    self._run_once()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 1933, in _run_once
    event_list = self._selector.select(timeout)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 444, in select
    self._poll(timeout)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\windows_events.py", line 769, in _poll
    status = _overlapped.GetQueuedCompletionStatus(self._iocp, ms)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 157, in _on_sigint
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 215, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 113, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 289, in send_frame
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
2024-03-17 19:13:14,842 - DEBUG - Using proactor: IocpProactor
2024-03-17 19:13:16,858 - DEBUG - Using proactor: IocpProactor
2024-03-17 19:13:26,454 - ERROR - Exception in callback StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:180>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248
handle: <Handle StreamReaderProtocol.connection_made.<locals>.callback(<Task cancell...chine.py:180>>) at C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py:248>
Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 684, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 291, in main
    await server.listen()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 162, in listen
    await self._server.serve_forever()
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\base_events.py", line 369, in serve_forever
    await self._serving_forever_fut
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\streams.py", line 249, in callback
    exc = task.exception()
          ^^^^^^^^^^^^^^^^
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\server_async_v2.4-state_machine.py", line 215, in handle_client
    await session.start()
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 113, in start
    await asyncio.gather(self.__task_handle_messages,
  File "d:\01-skola\vysoka\2021-2024\6.semestr\bakalarska_prace\IEC104\IEC104_SERVER\v3.0\Session.py", line 289, in send_frame
    await asyncio.sleep(self.__async_time) # kritick bod pro rychlost ap
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\slary\.pyenv\pyenv-win\versions\3.12.1\Lib\asyncio\tasks.py", line 665, in sleep
    return await future
           ^^^^^^^^^^^^
asyncio.exceptions.CancelledError
